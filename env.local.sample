# ===================================================================
# Auth0 Configuration (Required)
# ===================================================================

# Generate with: openssl rand -hex 32
AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'

# Base URL for your application
AUTH0_BASE_URL='http://localhost:3000'

# Your Auth0 domain (e.g., https://your-domain.us.auth0.com)
AUTH0_ISSUER_BASE_URL='https://your-domain.us.auth0.com'

# Auth0 Application Client ID
AUTH0_CLIENT_ID='your_client_id_here'

# Auth0 Application Client Secret
AUTH0_CLIENT_SECRET='your_client_secret_here'

# ===================================================================
# Auth0 Advanced Configuration (Optional - Secure Token Storage)
# ===================================================================

# Session cookie lifetime in seconds (default: 604800 = 7 days)
AUTH0_SESSION_COOKIE_LIFETIME=604800

# Enable rolling sessions (extends session on activity)
AUTH0_SESSION_ROLLING=true

# Rolling session duration in seconds (default: 86400 = 24 hours)
AUTH0_SESSION_ROLLING_DURATION=86400

# Secure cookies (set to true in production)
AUTH0_COOKIE_SECURE=true

# Cookie SameSite policy (strict, lax, none)
AUTH0_COOKIE_SAME_SITE='strict'

# Cookie domain (only set in production)
# AUTH0_COOKIE_DOMAIN='yourdomain.com'

# ===================================================================
# Auth0 Management API Configuration (Machine-to-Machine)
# ===================================================================

# Management API Client ID (M2M Application)
AUTH0_MANAGEMENT_CLIENT_ID='your_m2m_client_id_here'

# Management API Client Secret (M2M Application)
AUTH0_MANAGEMENT_CLIENT_SECRET='your_m2m_client_secret_here'

# Management API Audience (usually https://your-domain.auth0.com/api/v2/)
AUTH0_MANAGEMENT_AUDIENCE='https://your-domain.auth0.com/api/v2/'

# Custom claims namespace (should match your Auth0 domain)
AUTH0_CUSTOM_NAMESPACE='https://your-domain.auth0.com/'

# Connection ID for password reset (usually Username-Password-Authentication)
AUTH0_CONNECTION_ID='Username-Password-Authentication'

# ===================================================================
# BFF (Backend for Frontend) Configuration
# ===================================================================

# External API base URL that the BFF will proxy to
EXTERNAL_API_BASE_URL='https://api.example.com'

# API request timeout in milliseconds
API_TIMEOUT=30000

# ===================================================================
# Environment Configuration
# ===================================================================

# Node environment (development, staging, production)
NODE_ENV='development'

# Next.js telemetry (set to 1 to disable)
NEXT_TELEMETRY_DISABLED=0

# ===================================================================
# Security Configuration (Optional)
# ===================================================================

# Enable additional security logging (development only)
ENABLE_SECURITY_LOGS=true

# Rate limiting (requests per minute per IP)
RATE_LIMIT_RPM=100

# ===================================================================
# Setup Instructions
# ===================================================================

# 1. Copy this file to .env.local:
#    cp .env.local.sample .env.local

# 2. Generate AUTH0_SECRET:
#    openssl rand -hex 32

# 3. Configure Auth0 Application:
#    - Set Allowed Callback URLs: http://localhost:3000/api/auth/callback
#    - Set Allowed Logout URLs: http://localhost:3000
#    - Set Allowed Web Origins: http://localhost:3000
#    - Enable Refresh Token Rotation in Advanced Settings
#    - Set Token Endpoint Authentication Method to "Post"

# 4. Configure Auth0 Management API (Machine-to-Machine):
#    - Create M2M Application in Auth0 Dashboard
#    - Authorize for Management API with scopes: read:users, update:users, create:user_tickets
#    - Get Client ID and Secret for AUTH0_MANAGEMENT_* variables

# 5. Update AUTH0_ISSUER_BASE_URL with your Auth0 domain

# 6. Add your AUTH0_CLIENT_ID and AUTH0_CLIENT_SECRET

# 7. Configure EXTERNAL_API_BASE_URL for your backend API

# 8. Set up custom claims namespace (same as your Auth0 domain)

# 9. For production deployment:
#    - Set AUTH0_BASE_URL to your production domain
#    - Set AUTH0_COOKIE_SECURE=true
#    - Configure AUTH0_COOKIE_DOMAIN if using subdomains
#    - Update EXTERNAL_API_BASE_URL to production API
#    - Ensure Management API credentials are secure